{"version":3,"file":"message-bridge.js","sourceRoot":"","sources":["../src/message-bridge.ts"],"names":[],"mappings":"AAAA,MAAM,OAAO,aAAa;IACxB,MAAM,GAAG,IAAI,GAAG,EAAkB,CAAA;IAElC,YAAY,IAAiB;QAC3B,IAAI,CAAC,SAAS,GAAG,CAAC,KAAK,EAAE,EAAE;YACzB,MAAM,IAAI,GAAG,KAAK,CAAC,IAAI,CAAC,IAAI,CAAA;YAE5B,IAAI,IAAI,KAAK,MAAM,EAAE,CAAC;gBACpB,IAAI,CAAC,MAAM,CAAC,GAAG,CAAC,KAAK,CAAC,IAAI,CAAC,EAAE,EAAE,KAAK,CAAC,IAAI,CAAC,IAAI,CAAC,CAAA;YACjD,CAAC;QACH,CAAC,CAAA;IACH,CAAC;IAED,OAAO,CAAC,EAAU;QAChB,OAAO,IAAI,CAAC,MAAM,CAAC,GAAG,CAAC,EAAE,CAAC,IAAI,EAAE,CAAA;IAClC,CAAC;CACF","sourcesContent":["export class MessageBridge {\n  #texts = new Map<number, string>()\n\n  constructor(port: MessagePort) {\n    port.onmessage = (event) => {\n      const type = event.data.type\n\n      if (type === 'text') {\n        this.#texts.set(event.data.id, event.data.text)\n      }\n    }\n  }\n\n  getText(id: number) {\n    return this.#texts.get(id) ?? ''\n  }\n}\n"]}