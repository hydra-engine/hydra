{"version":3,"file":"physics-simulator.js","sourceRoot":"","sources":["../src/physics-simulator.ts"],"names":[],"mappings":"AAIA,MAAM,OAAO,gBAAgB;IAON;IANZ,UAAU,CAAiB;IAEpC,OAAO,GAAG,IAAI,GAAG,EAAwB,CAAA;IACzC,QAAQ,GAAG,IAAI,GAAG,EAAyB,CAAA;IAC3C,eAAe,GAAG,CAAC,CAAA;IAEnB,YAAqB,SAA0B;QAA1B,cAAS,GAAT,SAAS,CAAiB;QAC7C,IAAI,CAAC,UAAU,GAAG,SAAS,CAAA;IAC7B,CAAC;IAED,MAAM,CAAC,EAAU;QACf,MAAM,GAAG,GAAG,EAAE,GAAG,IAAI,CAAA;QACrB,MAAM,QAAQ,GAAG,GAAG,GAAG,MAAM,CAAC,CAAC,CAAC,MAAM,CAAC,CAAC,CAAC,GAAG,CAAA;QAC5C,MAAM,IAAI,GAAG,EAAE,IAAI,CAAC,eAAe,CAAA;QAEnC,MAAM,IAAI,GAAG,IAAI,CAAC,UAAU,CAAA;QAC5B,IAAI,CAAC,OAAO,CAAC,CAAC,EAAE,EAAE,EAAE;YAClB,MAAM;QACR,CAAC,CAAC,CAAA;IACJ,CAAC;CACF","sourcesContent":["import { ObjectStateTree } from '@hydraengine/shared'\nimport { PhysicsObject } from './physics-node/physics-object'\nimport { PhysicsWorld } from './physics-node/physics-world'\n\nexport class PhysicsSimulator {\n  readonly #stateTree: ObjectStateTree\n\n  #worlds = new Map<number, PhysicsWorld>()\n  #objects = new Map<number, PhysicsObject>()\n  #simulationStep = 0\n\n  constructor(readonly stateTree: ObjectStateTree) {\n    this.#stateTree = stateTree\n  }\n\n  update(dt: number) {\n    const dts = dt * 1000\n    const matterDt = dts > 16.666 ? 16.666 : dts\n    const step = ++this.#simulationStep\n\n    const tree = this.#stateTree\n    tree.forEach((id) => {\n      //TODO\n    })\n  }\n}\n"]}