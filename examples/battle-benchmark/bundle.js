(()=>{"use strict";var t,e,s,i,a,o={73:(t,e,s)=>{s.a(t,async(t,e)=>{try{var i=s(1266),a=s(5418),o=s(7867),r=s(7782),n=s(4994);(0,a.Nw)();const h=document.createElement("canvas");document.body.appendChild(h);const l=h.transferControlToOffscreen(),c=(new o.Z(document.body),document.createElement("div"));(0,i.eC)(c,{position:"absolute",top:"0",left:"0",display:"flex",flexDirection:"column"}),document.body.appendChild(c);const d=a.pl?new i.Kf(c,"Logic"):void 0,u=a.pl?new i.Kf(c,"Physics"):void 0,f=a.pl?new i.Kf(c,"Transform"):void 0,w=a.pl?new i.Kf(c,"Render"):void 0,m=new Worker("logic-worker.js");m.onmessage=t=>{const e=t.data.type;d&&"fps"===e&&(d.fps=t.data.value),"changeHp"===e&&((0,n.Xb)(t.data.hp),t.data.hp<=0&&(0,n.iY)()),"changeScore"===e&&(0,n.oz)(t.data.score),"playMusic"===e&&i.rF.play(t.data.asset),"pauseMusic"===e&&i.rF.pause(),"stopMusic"===e&&i.rF.stop(),"playSfx"===e&&i.dy.play(t.data.asset),"playSfxRandom"===e&&i.dy.playRandom(...t.data.assets)};const p=new Worker("physics-worker.js");p.onmessage=t=>{const e=t.data.type;u&&"fps"===e&&(u.fps=t.data.value)};const g=new Worker("transform-worker.js");g.onmessage=t=>{const e=t.data.type;f&&"fps"===e&&(f.fps=t.data.value)};const y=new Worker("render-worker.js");y.onmessage=t=>{const e=t.data.type;"graphicAssetLoaded"===e&&_.markLoaded(t.data.id),w&&"fps"===e&&(w.fps=t.data.value)};const _=new i.Z(r.r,[r.A.SPRITE_HERO,r.A.SPRITE_ORC,r.A.SPRITE_POTION,r.A.FONT_WHITE_PEABERRY,r.A.BGM_BATTLE,r.A.SFX_HERO_HIT_1,r.A.SFX_HERO_HIT_2,r.A.SFX_HERO_HIT_3,r.A.SFX_HERO_MISS_1,r.A.SFX_HERO_MISS_2,r.A.SFX_HERO_MISS_3,r.A.SFX_HERO_HEAL,r.A.SFX_HERO_DIE,r.A.SFX_ORC_HIT_1,r.A.SFX_ORC_HIT_2,r.A.SFX_ORC_HIT_3,r.A.SFX_ORC_MISS_1,r.A.SFX_ORC_MISS_2,r.A.SFX_ORC_MISS_3,r.A.SFX_ORC_DIE]);y.postMessage({type:"loadGraphicAssets",assets:[r.A.SPRITE_HERO,r.A.SPRITE_ORC,r.A.SPRITE_POTION,r.A.FONT_WHITE_PEABERRY]}),await _.preload();const S=(0,i.ZU)(),x=new MessageChannel;function R(t,e){(0,i.eC)(h,{width:`${t}px`,height:`${e}px`}),y.postMessage({type:"resize",containerWidth:t,containerHeight:e})}m.postMessage({type:"init",sab:S,port:x.port1},[x.port1]),p.postMessage({type:"init",sab:S}),g.postMessage({type:"init",sab:S}),y.postMessage({type:"init",offscreenCanvas:l,devicePixelRatio:window.devicePixelRatio,sab:S,port:x.port2},[l,x.port2]),R(window.innerWidth,window.innerHeight),window.addEventListener("resize",()=>R(window.innerWidth,window.innerHeight)),(0,n.xY)(),e()}catch(F){e(F)}},1)},331:(t,e,s)=>{s.d(e,{I:()=>i});class i{#t;#e;constructor(t,e,s,i){this.#e=s,this.#t=new Uint32Array(t,e,s*i)}static bytesRequired(t,e){return t*e*Uint32Array.BYTES_PER_ELEMENT}get byteLength(){return this.#t.byteLength}#s(t){return t*this.#e}set(t,e,s){this.#t[this.#s(t)+e]=s}get(t,e){return this.#t[this.#s(t)+e]}}},1266:(t,e,s)=>{s.d(e,{Kf:()=>I,Z:()=>P,ZU:()=>v,rF:()=>c,eC:()=>u,dy:()=>d});class i{cachedAssets=new Map;loadingPromises=new Map;#i=new Map;#a(t){this.#i.set(t,(this.#i.get(t)||0)+1)}hasActiveRef(t){return this.#i.get(t)>0}cleanup(t,e){}checkCached(t){return this.cachedAssets.has(t)}getCached(t){if(!this.checkCached(t))throw new Error(`Asset not found: ${t}`);return this.#a(t),this.cachedAssets.get(t)}async load(t,...e){return this.#a(t),this.checkCached(t)?this.cachedAssets.get(t):this.loadingPromises.has(t)?await this.loadingPromises.get(t):await this.doLoad(t,...e)}release(t){const e=this.#i.get(t);if(void 0===e)throw new Error(`Asset not found: ${t}`);if(1===e){this.#i.delete(t);const e=this.cachedAssets.get(t);e&&(this.cleanup(t,e),this.cachedAssets.delete(t))}else this.#i.set(t,e-1)}}const a=new class extends i{async doLoad(t,e){const s=(async()=>{const s=await fetch(e);if(s.ok)try{const i=await s.arrayBuffer(),a=await r.decodeAudioData(i);if(this.loadingPromises.delete(t),this.hasActiveRef(t)){if(!this.cachedAssets.has(t))return this.cachedAssets.set(t,a),a;console.error(`Audio buffer already exists: ${e}`)}}catch(s){console.error(`Failed to decode audio data: ${e}`,s),this.loadingPromises.delete(t)}else console.error(`Failed to load audio data: ${e}`)})();return this.loadingPromises.set(t,s),await s}},o=/Android|iPhone|iPad|iPod/i.test(navigator.userAgent),r=new(window.AudioContext||window.webkitAudioContext);window.addEventListener("mousedown",()=>r.resume()),window.addEventListener("touchend",()=>r.resume());let n=!document.hidden;window.addEventListener("visibilitychange",()=>n=!document.hidden);const h=function(){const t=(()=>{const t=new Map;return{persistent:!1,getItem:e=>t.has(e)?t.get(e):null,setItem:(e,s)=>{t.set(e,String(s))},removeItem:e=>{t.delete(e)}}})();if("undefined"==typeof window)return t;try{const t=window.localStorage,e="__safe_ls_probe__"+Math.random().toString(36).slice(2);return t.setItem(e,"1"),t.removeItem(e),{persistent:!0,getItem:e=>t.getItem(e),setItem:(e,s)=>t.setItem(e,s),removeItem:e=>t.removeItem(e)}}catch{return t}}();class l{assetId;#o;#r;#n;#h;#l;#c;#d=!1;#u=!1;#f=0;#w=0;#m=0;constructor(t,e,s){this.assetId=t,this.#o=e,this.#r=s,this.play()}get volume(){return this.#o}set volume(t){this.#o=t,this.#l&&(this.#l.gain.value=Math.max(0,Math.min(1,t)))}async play(){o&&!n||(this.#n||(a.checkCached(this.assetId)?this.#n=a.getCached(this.assetId):(console.info(`Audio not preloaded. Loading now: ${this.assetId}`),this.#n=await a.load(this.assetId))),this.#n&&(this.#d&&this.stop(),this.#u||(this.#m=0),this.#d=!0,this.#u=!1,this.#h||(this.#h=await async function(){return"suspended"===r.state&&await r.resume(),r}()),this.#d&&(this.#l||(this.#l=this.#h.createGain(),this.#l.gain.value=this.#o,this.#l.connect(this.#h.destination)),this.#c=this.#h.createBufferSource(),this.#c.buffer=this.#n,this.#c.loop=this.#r,this.#c.connect(this.#l),this.#c.start(0,this.#m),this.#f=this.#h.currentTime,this.#c.onended=()=>{this.#u||this.#r||this.stop()})))}#p(){this.#c&&(this.#c.stop(),this.#c.disconnect(),this.#c=void 0)}pause(){this.#d&&!this.#u&&(this.#h&&(this.#w=this.#h.currentTime,this.#m+=this.#w-this.#f),this.#u=!0,this.#d=!1,this.#p())}stop(){this.#d=!1,this.#u=!1,this.#m=0,this.#p()}}const c=new class{#o=.7;#g;constructor(){const t=parseFloat(h.getItem("musicVolume")||"");this.#o=Number.isNaN(t)?this.#o:t,o&&document.addEventListener("visibilitychange",()=>{document.hidden?this.pause():(n=!0,this.#g?.play())})}get volume(){return this.#o}set volume(t){this.#o=t,h.setItem("musicVolume",t.toString()),this.#g&&(this.#g.volume=t)}play(t){this.#g?.assetId!==t&&(this.#g?.stop(),this.#g=new l(t,this.#o,!0))}pause(){this.#g?.pause()}stop(){this.#g?.stop(),this.#g=void 0}},d=new class{#o=1;constructor(){const t=parseFloat(h.getItem("sfxVolume")||"");this.#o=Number.isNaN(t)?this.#o:t}get volume(){return this.#o}set volume(t){this.#o=t,h.setItem("sfxVolume",t.toString())}play(t){new l(t,this.#o,!1)}playRandom(...t){this.play(t[Math.floor(Math.random()*t.length)])}};function u(t,e){if(t)return Object.assign(t.style,e),t}const f=window.devicePixelRatio,w=80*f,m=48*f,p=3*f,g=2*f,y=3*f,_=15*f,S=74*f,x=30*f,R=Math.round;function F(t,e,s=0){const{r:i,g:a,b:o}=function(t){const e=t.replace("#",""),s=3===e.length?e.split("").map(t=>t+t).join(""):e,i=parseInt(s,16);return{r:i>>16&255,g:i>>8&255,b:255&i}}(t),{h:r,s:n,l:h}=function(t,e,s){t/=255,e/=255,s/=255;const i=Math.max(t,e,s),a=Math.min(t,e,s);let o=0,r=0;const n=(i+a)/2;if(i!==a){const h=i-a;switch(r=n>.5?h/(2-i-a):h/(i-a),i){case t:o=(e-s)/h+(e<s?6:0);break;case e:o=(s-t)/h+2;break;case s:o=(t-e)/h+4}o*=60}return{h:o,s:r,l:n}}(i,a,o),l=(r+e)%360;return function(t,e,s){const i=(1-Math.abs(2*s-1))*e,a=i*(1-Math.abs(t/60%2-1)),o=s-i/2;let r=0,n=0,h=0;0<=t&&t<60?(r=i,n=a,h=0):60<=t&&t<120?(r=a,n=i,h=0):120<=t&&t<180?(r=0,n=i,h=a):180<=t&&t<240?(r=0,n=a,h=i):240<=t&&t<300?(r=a,n=0,h=i):(r=i,n=0,h=a);const l=t=>Math.round(255*(t+o)).toString(16).padStart(2,"0");return`#${l(r)}${l(n)}${l(h)}`}(l<0?l+360:l,n,Math.max(0,Math.min(1,h+s)))}class I{static#y=0;#_;#S;#x;#R=1/0;#F=0;#I=0;#b;#v;#k;constructor(t,e){this.#x=e;const s=I.#y++;this.#v=F("#0ff",18*s,0),this.#k=F("#002",18*s,.02);const i=document.createElement("canvas");t.appendChild(i),i.width=w,i.height=m,i.style.cssText="width:80px;height:48px";const a=i.getContext("2d");if(!a)throw new Error("2D context not available");a.font=`bold ${9*f}px Helvetica,Arial,sans-serif`,a.textBaseline="top",a.globalAlpha=1,a.fillStyle=this.#k,a.fillRect(0,0,w,m),a.fillStyle=this.#v,a.fillText(e,p,g),a.fillRect(y,_,S,x),a.fillStyle=this.#k,a.globalAlpha=.9,a.fillRect(y,_,S,x),this.#_=i,this.#S=a,this.#b=setInterval(()=>this.#E(),1e3)}#E(){const t=this.#S;if(this.#R===1/0)return;t.globalAlpha=1,t.fillStyle=this.#k,t.fillRect(0,0,w,_),t.fillStyle=this.#v;const e=`${R(this.#I)} ${this.#x} (${R(this.#R)}-${R(this.#F)})`;t.fillText(e,p,g),t.drawImage(this.#_,y+f,_,S-f,x,y,_,S-f,x),t.fillStyle=this.#v,t.globalAlpha=1,t.fillRect(y+S-f,_,f,x),t.fillStyle=this.#k,t.globalAlpha=.9;const s=this.#F<100?100:this.#F,i=R((1-this.#I/s)*x);t.fillRect(y+S-f,_,f,i),t.globalAlpha=1}set fps(t){this.#R=Math.min(this.#R,t),this.#F=Math.max(this.#F,t),this.#I=t}get fps(){return this.#I}remove(){clearInterval(this.#b),this.#_.remove()}}var b=s(5418);function v(){const t=new SharedArrayBuffer(b.jy.bytesRequired()),e=new b.F9(t,0,b.$5-1);for(let t=1;t<b.$5;t++)e.enqueue(t);let s=b.s6.bytesRequired(b.$5);return new Uint32Array(t,s,b.Fr*b.$5).fill(b.x3),s+=b.aD.bytesRequired(b.$5),s+=b.bp.bytesRequired(b.pn,b.$5),new Uint32Array(t,s,b.Qb*b.$5).fill(b.x3),s+=b.Iu.bytesRequired(b.Qb,b.$5),new Float32Array(t,s,b.sB*b.$5).fill(NaN),t}const k=new class extends i{async doLoad(t,e){const s=(async()=>{if("fonts"in document)try{return await document.fonts.load(`1em ${e}`),await document.fonts.ready,this.loadingPromises.delete(t),!0}catch(s){console.error(`Failed to load font: ${e}`,s),this.loadingPromises.delete(t)}else console.warn("This browser does not support the Font Loading API"),this.loadingPromises.delete(t)})();return this.loadingPromises.set(t,s),await s}},E=Symbol("EXTERNAL_LOADER"),A=[{check:t=>t.endsWith(".json")||t.endsWith(".atlas"),loader:E},{check:t=>t.endsWith(".skel"),loader:E},{check:t=>/\.(png|jpe?g|gif|webp)$/.test(t),loader:E},{check:t=>/\.(mp3|wav|ogg)$/.test(t),loader:a},{check:t=>!t.includes("."),loader:k}],C=new Map;async function O(t,e){if("string"==typeof e){const i=(s=e,A.find(({check:t})=>t(s))?.loader);return i?(C.set(t,i),i!==E&&(await i.load(t,e),!0)):(console.warn(`No loader found for asset: ${e}`),!0)}return"atlas"in e||"fnt"in e?(C.set(t,E),!1):(console.warn(`Unknown asset type: ${e}`),!0);var s}class P{#A;#C;#O=new Set;#P;constructor(t,e,s){this.#A=new Set(e),this.#C=s;for(const e of this.#A)O(e,t[e]).then(t=>{t&&this.markLoaded(e)})}async preload(){if(this.#O.size!==this.#A.size)return new Promise(t=>this.#P=t)}markLoaded(t){this.#O.add(t);const e=this.#A.size;this.#C?.(this.#O.size/e),this.#O.size===e&&this.#P?.()}}},1853:(t,e,s)=>{s.d(e,{N:()=>a,p:()=>i});let i=!1;function a(){i=!0}},2228:(t,e,s)=>{var i;!function(t){t[t.GameObject=0]="GameObject",t[t.Sprite=1]="Sprite",t[t.AnimatedSprite=2]="AnimatedSprite",t[t.Rectangle=3]="Rectangle",t[t.Circle=4]="Circle",t[t.BitmapText=5]="BitmapText",t[t.PhysicsWorld=6]="PhysicsWorld",t[t.PhysicsObject=7]="PhysicsObject"}(i||(i={}))},2365:(t,e,s)=>{s.d(e,{F:()=>a,a:()=>o});var i=s(5211);const a=5;class o{#T;constructor(t,e,s){this.#T=new Uint32Array(t,e,s*a)}static bytesRequired(t){return t*a*Uint32Array.BYTES_PER_ELEMENT}get byteLength(){return this.#T.byteLength}#s(t){return t*a}parent(t){return this.#T[this.#s(t)+0]}#H(t){return this.#T[this.#s(t)+1]}#X(t){return this.#T[this.#s(t)+2]}#L(t){return this.#T[this.#s(t)+4]}remove(t){const e=this.#s(t),s=this.#T[e+0],a=this.#T[e+3],o=this.#T[e+4];if(s!==i.x){const e=this.#s(s);this.#T[e+1]===t&&(this.#T[e+1]=o),this.#T[e+2]===t&&(this.#T[e+2]=a)}a!==i.x&&(this.#T[this.#s(a)+4]=o),o!==i.x&&(this.#T[this.#s(o)+3]=a)}#M(t,e){const s=this.#s(t),a=this.#s(e);this.#T[a+0]=t,this.#T[a+3]=i.x,this.#T[a+4]=i.x,this.#T[s+1]=e,this.#T[s+2]=e}#B(t,e,s){const a=this.#s(e),o=this.#T[a+4],r=this.#s(s);this.#T[r+0]=t,this.#T[r+3]=e,this.#T[r+4]=o,this.#T[a+4]=s,o!==i.x?this.#T[this.#s(o)+3]=s:this.#T[this.#s(t)+2]=s}#N(t,e,s){const a=this.#s(e),o=this.#T[a+3],r=this.#s(s);this.#T[r+0]=t,this.#T[r+4]=e,this.#T[r+3]=o,this.#T[a+3]=s,o!==i.x?this.#T[this.#s(o)+4]=s:this.#T[this.#s(t)+1]=s}insert(t,e){this.remove(e);const s=this.#X(t);s===i.x?this.#M(t,e):this.#B(t,s,e)}insertAt(t,e,s){this.remove(e);const a=this.#H(t);if(a===i.x)return void this.#M(t,e);if(s<=0)return void this.#N(t,a,e);let o=0,r=a;for(;r!==i.x&&o<s;)r=this.#L(r),o++;r===i.x?this.insert(t,e):this.#N(t,r,e)}forEach(t){let e=i.D;for(;;){t(e);const s=this.#H(e);if(s===i.x)for(;;){if(e===i.D)return;const t=this.#L(e);if(t!==i.x){e=t;break}e=this.parent(e)}else e=s}}sortChildren(t,e){let s=this.#H(t);if(s===i.x||this.#L(s)===i.x)return;const a=[];let o=s;for(;o!==i.x;)a.push(o),o=this.#L(o);a.sort((t,s)=>e(t)-e(s));const r=this.#s(t);this.#T[r+1]=a[0],this.#T[r+2]=a[a.length-1];for(let e=0;e<a.length;e++){const s=a[e],o=this.#s(s),r=e>0?a[e-1]:i.x,n=e<a.length-1?a[e+1]:i.x;this.#T[o+0]=t,this.#T[o+3]=r,this.#T[o+4]=n}}}},2531:(t,e,s)=>{var i;!function(t){t[t.Rectangle=0]="Rectangle",t[t.Circle=1]="Circle",t[t.Polygon=2]="Polygon"}(i||(i={}))},2802:(t,e,s)=>{s.d(e,{F:()=>i});class i{#W;#t;#$;constructor(t,e,s){this.#W=new Uint32Array(t,e,2),this.#t=new Uint32Array(t,e+2*Uint32Array.BYTES_PER_ELEMENT,s),this.#$=s}static bytesRequired(t){return(2+t)*Uint32Array.BYTES_PER_ELEMENT}get byteLength(){return this.#W.byteLength+this.#t.byteLength}enqueue(t){const e=this.#W[1];this.#t[e]=t,this.#W[1]=(e+1)%this.#$}dequeue(){const t=this.#W[0];return this.#W[0]=(t+1)%this.#$,this.#t[t]}}},3208:(t,e,s)=>{s.d(e,{$5:()=>a,Qb:()=>r,jy:()=>h,pn:()=>o,sB:()=>n});var i=s(6145);const a=1e6,o=0,r=5,n=23;class h extends i.f{constructor(t){super(t,o,r,n,a)}static bytesRequired(){return i.f.bytesRequired(o,r,n,a)}setObjectType(t,e){this.setUint32(t,0,e)}getObjectType(t){return this.getUint32(t,0)}setLocalX(t,e){this.setFloat32(t,1,e)}getLocalX(t){return this.getFloat32(t,1)}setLocalY(t,e){this.setFloat32(t,2,e)}getLocalY(t){return this.getFloat32(t,2)}setLocalScaleX(t,e){this.setFloat32(t,3,e)}getLocalScaleX(t){return this.getFloat32(t,3)}setLocalScaleY(t,e){this.setFloat32(t,4,e)}getLocalScaleY(t){return this.getFloat32(t,4)}setLocalPivotX(t,e){this.setFloat32(t,5,e)}getLocalPivotX(t){return this.getFloat32(t,5)}setLocalPivotY(t,e){this.setFloat32(t,6,e)}getLocalPivotY(t){return this.getFloat32(t,6)}setLocalRotation(t,e){this.setFloat32(t,7,e)}getLocalRotation(t){return this.getFloat32(t,7)}setLocalCos(t,e){this.setFloat32(t,8,e)}getLocalCos(t){return this.getFloat32(t,8)}setLocalSin(t,e){this.setFloat32(t,9,e)}getLocalSin(t){return this.getFloat32(t,9)}setLocalAlpha(t,e){this.setFloat32(t,10,e)}getLocalAlpha(t){return this.getFloat32(t,10)}setWorldX(t,e){this.setFloat32(t,11,e)}getWorldX(t){return this.getFloat32(t,11)}setWorldY(t,e){this.setFloat32(t,12,e)}getWorldY(t){return this.getFloat32(t,12)}setWorldScaleX(t,e){this.setFloat32(t,13,e)}getWorldScaleX(t){return this.getFloat32(t,13)}setWorldScaleY(t,e){this.setFloat32(t,14,e)}getWorldScaleY(t){return this.getFloat32(t,14)}setWorldRotation(t,e){this.setFloat32(t,15,e)}getWorldRotation(t){return this.getFloat32(t,15)}setWorldCos(t,e){this.setFloat32(t,16,e)}getWorldCos(t){return this.getFloat32(t,16)}setWorldSin(t,e){this.setFloat32(t,17,e)}getWorldSin(t){return this.getFloat32(t,17)}setWorldAlpha(t,e){this.setFloat32(t,18,e)}getWorldAlpha(t){return this.getFloat32(t,18)}setLayer(t,e){this.setUint32(t,1,e)}getLayer(t){return this.getUint32(t,1)}setDrawOrder(t,e){this.setFloat32(t,0,e)}getDrawOrder(t){return this.getFloat32(t,0)}setTint(t,e){this.setUint32(t,2,e)}getTint(t){return this.getUint32(t,2)}setAssetId(t,e){this.setUint32(t,3,e)}getAssetId(t){return this.getUint32(t,3)}setAnimationId(t,e){this.setUint32(t,4,e)}getAnimationId(t){return this.getUint32(t,4)}setShapeId(t,e){this.setUint32(t,3,e)}getShapeId(t){return this.getUint32(t,3)}setRadius(t,e){this.setFloat32(t,19,e)}getRadius(t){return this.getFloat32(t,19)}setWidth(t,e){this.setFloat32(t,19,e)}getWidth(t){return this.getFloat32(t,19)}setHeight(t,e){this.setFloat32(t,20,e)}getHeight(t){return this.getFloat32(t,20)}setWorldId(t,e){this.setUint32(t,3,e)}getWorldId(t){return this.getUint32(t,3)}setBodyId(t,e){this.setUint32(t,3,e)}getBodyId(t){return this.getUint32(t,3)}setVelocityX(t,e){this.setFloat32(t,19,e)}getVelocityX(t){return this.getFloat32(t,19)}setVelocityY(t,e){this.setFloat32(t,20,e)}getVelocityY(t){return this.getFloat32(t,20)}setTargetX(t,e){this.setFloat32(t,21,e)}getTargetX(t){return this.getFloat32(t,21)}setTargetY(t,e){this.setFloat32(t,22,e)}getTargetY(t){return this.getFloat32(t,22)}#U=t=>this.getDrawOrder(t);sortChildren(t){super.sortChildren(t,this.#U)}}},4994:(t,e,s)=>{s.d(e,{Xb:()=>h,oz:()=>l,xY:()=>n,iY:()=>c});const i=1e4;function a(){const t=document.createElement("div");return t.style.color="white",t.style.position="absolute",t.style.top="10px",t.style.zIndex="1",t}const o=a(),r=a();function n(){o.textContent=`HP: ${i}`,r.textContent="Score: 0",o.style.left="50%",o.style.transform="translate(-50%, 0)",r.style.right="10px",document.body.appendChild(o),document.body.appendChild(r)}function h(t){o.textContent=`HP: ${t}`}function l(t){r.textContent=`Score: ${t}`}function c(){const t=a();t.textContent="Game Over",t.style.left="50%",t.style.top="50%",t.style.transform="translate(-50%, -50%)",document.body.append(t)}},5211:(t,e,s)=>{s.d(e,{D:()=>i,x:()=>a});const i=0,a=4294967295},5418:(t,e,s)=>{s.d(e,{$5:()=>o.$5,F9:()=>h.F,Fr:()=>l.F,Iu:()=>n.I,Nw:()=>a.N,Qb:()=>o.Qb,aD:()=>l.a,bp:()=>r.b,jy:()=>o.jy,pl:()=>a.p,pn:()=>o.pn,s6:()=>c.s,sB:()=>o.sB,x3:()=>i.x});var i=s(5211),a=s(1853),o=s(3208),r=(s(2228),s(9496)),n=s(331),h=s(2802),l=s(2365),c=s(7229);s(2531)},5478:t=>{t.exports=JSON.parse('{"frames":{"idle-1":{"x":0,"y":0,"w":100,"h":100},"idle-2":{"x":100,"y":0,"w":100,"h":100},"idle-3":{"x":200,"y":0,"w":100,"h":100},"idle-4":{"x":300,"y":0,"w":100,"h":100},"idle-5":{"x":400,"y":0,"w":100,"h":100},"idle-6":{"x":500,"y":0,"w":100,"h":100},"walk-1":{"x":0,"y":100,"w":100,"h":100},"walk-2":{"x":100,"y":100,"w":100,"h":100},"walk-3":{"x":200,"y":100,"w":100,"h":100},"walk-4":{"x":300,"y":100,"w":100,"h":100},"walk-5":{"x":400,"y":100,"w":100,"h":100},"walk-6":{"x":500,"y":100,"w":100,"h":100},"walk-7":{"x":600,"y":100,"w":100,"h":100},"walk-8":{"x":700,"y":100,"w":100,"h":100},"attack1-1":{"x":0,"y":200,"w":100,"h":100},"attack1-2":{"x":100,"y":200,"w":100,"h":100},"attack1-3":{"x":200,"y":200,"w":100,"h":100},"attack1-4":{"x":300,"y":200,"w":100,"h":100},"attack1-5":{"x":400,"y":200,"w":100,"h":100},"attack1-6":{"x":500,"y":200,"w":100,"h":100},"attack2-1":{"x":0,"y":300,"w":100,"h":100},"attack2-2":{"x":100,"y":300,"w":100,"h":100},"attack2-3":{"x":200,"y":300,"w":100,"h":100},"attack2-4":{"x":300,"y":300,"w":100,"h":100},"attack2-5":{"x":400,"y":300,"w":100,"h":100},"attack2-6":{"x":500,"y":300,"w":100,"h":100},"die-1":{"x":0,"y":500,"w":100,"h":100},"die-2":{"x":100,"y":500,"w":100,"h":100},"die-3":{"x":200,"y":500,"w":100,"h":100},"die-4":{"x":300,"y":500,"w":100,"h":100}},"animations":{"idle":{"frames":["idle-1","idle-2","idle-3","idle-4","idle-5","idle-6"],"fps":10,"loop":true},"walk":{"frames":["walk-1","walk-2","walk-3","walk-4","walk-5","walk-6","walk-7","walk-8"],"fps":10,"loop":true},"attack1":{"frames":["attack1-1","attack1-2","attack1-3","attack1-4","attack1-5","attack1-6"],"fps":10,"loop":false},"attack2":{"frames":["attack2-1","attack2-2","attack2-3","attack2-4","attack2-5","attack2-6"],"fps":10,"loop":false},"die":{"frames":["die-1","die-2","die-3","die-4"],"fps":10,"loop":false}}}')},6145:(t,e,s)=>{s.d(e,{f:()=>h});var i=s(9496),a=s(6325),o=s(331),r=s(2365),n=s(7229);class h{#q;#Y;#j;#D;#G;constructor(t,e,s,h,l){this.#q=new n.s(t,0,l);let c=this.#q.byteLength;this.#Y=new r.a(t,c,l),c+=this.#Y.byteLength,this.#j=new i.b(t,c,e,l),c+=this.#j.byteLength,this.#D=new o.I(t,c,s,l),c+=this.#D.byteLength,this.#G=new a.i(t,c,h,l)}static bytesRequired(t,e,s,h){return n.s.bytesRequired(h)+r.a.bytesRequired(h)+i.b.bytesRequired(t,h)+o.I.bytesRequired(e,h)+a.i.bytesRequired(s,h)}newChild(t){const e=this.#q.alloc();return this.#Y.insert(t,e),e}getParent(t){return this.#Y.parent(t)}insertAt(t,e,s){this.#Y.insertAt(t,e,s)}remove(t){this.#Y.remove(t),this.#q.free(t)}setBoolean(t,e,s){this.#j.set(t,e,s)}getBoolean(t,e){return this.#j.get(t,e)}setUint32(t,e,s){this.#D.set(t,e,s)}getUint32(t,e){return this.#D.get(t,e)}setFloat32(t,e,s){this.#G.set(t,e,s)}getFloat32(t,e){return this.#G.get(t,e)}forEach(t){this.#Y.forEach(t)}sortChildren(t,e){this.#Y.sortChildren(t,e)}}},6325:(t,e,s)=>{s.d(e,{i:()=>i});class i{#t;#e;constructor(t,e,s,i){this.#e=s,this.#t=new Float32Array(t,e,s*i)}static bytesRequired(t,e){return t*e*Float32Array.BYTES_PER_ELEMENT}get byteLength(){return this.#t.byteLength}#s(t){return t*this.#e}set(t,e,s){this.#t[this.#s(t)+e]=s}get(t,e){return this.#t[this.#s(t)+e]}}},7229:(t,e,s)=>{s.d(e,{s:()=>a});var i=s(2802);class a{#z;constructor(t,e,s){this.#z=new i.F(t,e,s-1)}static bytesRequired(t){return i.F.bytesRequired(t-1)}get byteLength(){return this.#z.byteLength}alloc(){return this.#z.dequeue()}free(t){this.#z.enqueue(t)}}},7782:(t,e,s)=>{s.d(e,{A:()=>i,r:()=>n});var i,a=s(8700),o=s(5478),r=s(8791);!function(t){t[t.SPRITE_HERO=0]="SPRITE_HERO",t[t.SPRITE_ORC=1]="SPRITE_ORC",t[t.SPRITE_POTION=2]="SPRITE_POTION",t[t.FONT_WHITE_PEABERRY=3]="FONT_WHITE_PEABERRY",t[t.BGM_BATTLE=4]="BGM_BATTLE",t[t.SFX_HERO_HIT_1=5]="SFX_HERO_HIT_1",t[t.SFX_HERO_HIT_2=6]="SFX_HERO_HIT_2",t[t.SFX_HERO_HIT_3=7]="SFX_HERO_HIT_3",t[t.SFX_HERO_MISS_1=8]="SFX_HERO_MISS_1",t[t.SFX_HERO_MISS_2=9]="SFX_HERO_MISS_2",t[t.SFX_HERO_MISS_3=10]="SFX_HERO_MISS_3",t[t.SFX_HERO_HEAL=11]="SFX_HERO_HEAL",t[t.SFX_HERO_DIE=12]="SFX_HERO_DIE",t[t.SFX_ORC_HIT_1=13]="SFX_ORC_HIT_1",t[t.SFX_ORC_HIT_2=14]="SFX_ORC_HIT_2",t[t.SFX_ORC_HIT_3=15]="SFX_ORC_HIT_3",t[t.SFX_ORC_MISS_1=16]="SFX_ORC_MISS_1",t[t.SFX_ORC_MISS_2=17]="SFX_ORC_MISS_2",t[t.SFX_ORC_MISS_3=18]="SFX_ORC_MISS_3",t[t.SFX_ORC_DIE=19]="SFX_ORC_DIE"}(i||(i={}));const n={[i.SPRITE_HERO]:{src:"assets/spritesheets/hero.png",atlas:a},[i.SPRITE_ORC]:{src:"assets/spritesheets/orc.png",atlas:o},[i.SPRITE_POTION]:{src:"assets/spritesheets/potion.png",atlas:r},[i.FONT_WHITE_PEABERRY]:{fnt:"assets/bitmap-fonts/white-peaberry.fnt",src:"assets/bitmap-fonts/white-peaberry.png"},[i.BGM_BATTLE]:"assets/bgm/battle.mp3",[i.SFX_HERO_HIT_1]:"assets/sfx/hero/hit/hit1.wav",[i.SFX_HERO_HIT_2]:"assets/sfx/hero/hit/hit2.wav",[i.SFX_HERO_HIT_3]:"assets/sfx/hero/hit/hit3.wav",[i.SFX_HERO_MISS_1]:"assets/sfx/hero/miss/miss1.wav",[i.SFX_HERO_MISS_2]:"assets/sfx/hero/miss/miss2.wav",[i.SFX_HERO_MISS_3]:"assets/sfx/hero/miss/miss3.wav",[i.SFX_HERO_HEAL]:"assets/sfx/hero/heal/heal.wav",[i.SFX_HERO_DIE]:"assets/sfx/hero/die/die.wav",[i.SFX_ORC_HIT_1]:"assets/sfx/orc/hit/hit1.wav",[i.SFX_ORC_HIT_2]:"assets/sfx/orc/hit/hit2.wav",[i.SFX_ORC_HIT_3]:"assets/sfx/orc/hit/hit3.wav",[i.SFX_ORC_MISS_1]:"assets/sfx/orc/miss/miss1.wav",[i.SFX_ORC_MISS_2]:"assets/sfx/orc/miss/miss2.wav",[i.SFX_ORC_MISS_3]:"assets/sfx/orc/miss/miss3.wav",[i.SFX_ORC_DIE]:"assets/sfx/orc/die/die.wav"}},7867:(t,e,s)=>{s.d(e,{Z:()=>i});class i{constructor(t){}}},8700:t=>{t.exports=JSON.parse('{"frames":{"idle-1":{"x":0,"y":0,"w":100,"h":100},"idle-2":{"x":100,"y":0,"w":100,"h":100},"idle-3":{"x":200,"y":0,"w":100,"h":100},"idle-4":{"x":300,"y":0,"w":100,"h":100},"idle-5":{"x":400,"y":0,"w":100,"h":100},"idle-6":{"x":500,"y":0,"w":100,"h":100},"walk-1":{"x":0,"y":100,"w":100,"h":100},"walk-2":{"x":100,"y":100,"w":100,"h":100},"walk-3":{"x":200,"y":100,"w":100,"h":100},"walk-4":{"x":300,"y":100,"w":100,"h":100},"walk-5":{"x":400,"y":100,"w":100,"h":100},"walk-6":{"x":500,"y":100,"w":100,"h":100},"walk-7":{"x":600,"y":100,"w":100,"h":100},"walk-8":{"x":700,"y":100,"w":100,"h":100},"attack1-1":{"x":0,"y":200,"w":100,"h":100},"attack1-2":{"x":100,"y":200,"w":100,"h":100},"attack1-3":{"x":200,"y":200,"w":100,"h":100},"attack1-4":{"x":300,"y":200,"w":100,"h":100},"attack1-5":{"x":400,"y":200,"w":100,"h":100},"attack1-6":{"x":500,"y":200,"w":100,"h":100},"attack2-1":{"x":0,"y":300,"w":100,"h":100},"attack2-2":{"x":100,"y":300,"w":100,"h":100},"attack2-3":{"x":200,"y":300,"w":100,"h":100},"attack2-4":{"x":300,"y":300,"w":100,"h":100},"attack2-5":{"x":400,"y":300,"w":100,"h":100},"attack2-6":{"x":500,"y":300,"w":100,"h":100},"die-1":{"x":0,"y":600,"w":100,"h":100},"die-2":{"x":100,"y":600,"w":100,"h":100},"die-3":{"x":200,"y":600,"w":100,"h":100},"die-4":{"x":300,"y":600,"w":100,"h":100}},"animations":{"idle":{"frames":["idle-1","idle-2","idle-3","idle-4","idle-5","idle-6"],"fps":10,"loop":true},"walk":{"frames":["walk-1","walk-2","walk-3","walk-4","walk-5","walk-6","walk-7","walk-8"],"fps":10,"loop":true},"attack1":{"frames":["attack1-1","attack1-2","attack1-3","attack1-4","attack1-5","attack1-6"],"fps":10,"loop":false},"attack2":{"frames":["attack2-1","attack2-2","attack2-3","attack2-4","attack2-5","attack2-6"],"fps":10,"loop":false},"die":{"frames":["die-1","die-2","die-3","die-4"],"fps":10,"loop":false}}}')},8791:t=>{t.exports=JSON.parse('{"frames":{"frame-1":{"x":0,"y":0,"w":16,"h":16},"frame-2":{"x":16,"y":0,"w":16,"h":16},"frame-3":{"x":32,"y":0,"w":16,"h":16},"frame-4":{"x":0,"y":16,"w":16,"h":16},"frame-5":{"x":16,"y":16,"w":16,"h":16},"frame-6":{"x":32,"y":16,"w":16,"h":16},"frame-7":{"x":0,"y":32,"w":16,"h":16},"frame-8":{"x":16,"y":32,"w":16,"h":16}},"animations":{"animation":{"frames":["frame-1","frame-2","frame-3","frame-4","frame-5","frame-6","frame-7","frame-8"],"fps":10,"loop":true}}}')},9496:(t,e,s)=>{s.d(e,{b:()=>i});class i{#V;#e;constructor(t,e,s,i){this.#e=s;const a=s*i,o=Math.ceil(a/32);this.#V=new Uint32Array(t,e,o)}static bytesRequired(t,e){const s=t*e;return Math.ceil(s/32)*Uint32Array.BYTES_PER_ELEMENT}get byteLength(){return this.#V.byteLength}#Z(t,e){return t*this.#e+e}set(t,e,s){const i=this.#Z(t,e),a=i>>>5,o=1<<(31&i);s?this.#V[a]|=o:this.#V[a]&=~o}get(t,e){const s=this.#Z(t,e),i=s>>>5,a=1<<(31&s);return 0!==(this.#V[i]&a)}}}},r={};function n(t){var e=r[t];if(void 0!==e)return e.exports;var s=r[t]={exports:{}};return o[t](s,s.exports,n),s.exports}t="function"==typeof Symbol,e=t?Symbol("webpack queues"):"__webpack_queues__",s=t?Symbol("webpack exports"):"__webpack_exports__",i=t?Symbol("webpack error"):"__webpack_error__",a=t=>{t&&t.d<1&&(t.d=1,t.forEach(t=>t.r--),t.forEach(t=>t.r--?t.r++:t()))},n.a=(t,o,r)=>{var n;r&&((n=[]).d=-1);var h,l,c,d=new Set,u=t.exports,f=new Promise((t,e)=>{c=e,l=t});f[s]=u,f[e]=t=>(n&&t(n),d.forEach(t),f.catch(t=>{})),t.exports=f,o(t=>{var o;h=(t=>t.map(t=>{if(null!==t&&"object"==typeof t){if(t[e])return t;if(t.then){var o=[];o.d=0,t.then(t=>{r[s]=t,a(o)},t=>{r[i]=t,a(o)});var r={};return r[e]=t=>t(o),r}}var n={};return n[e]=t=>{},n[s]=t,n}))(t);var r=()=>h.map(t=>{if(t[i])throw t[i];return t[s]}),l=new Promise(t=>{(o=()=>t(r)).r=0;var s=t=>t!==n&&!d.has(t)&&(d.add(t),t&&!t.d&&(o.r++,t.push(o)));h.map(t=>t[e](s))});return o.r?l:r()},t=>(t?c(f[i]=t):l(u),a(n))),n&&n.d<0&&(n.d=0)},n.d=(t,e)=>{for(var s in e)n.o(e,s)&&!n.o(t,s)&&Object.defineProperty(t,s,{enumerable:!0,get:e[s]})},n.o=(t,e)=>Object.prototype.hasOwnProperty.call(t,e),n(73)})();